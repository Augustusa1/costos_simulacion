<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Gerencial G-2024-2025</title>
    <!-- Incluyendo Tailwind CSS para un diseño moderno y responsivo -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Incluyendo Chart.js para la visualización de datos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .data-row {
            transition: background-color 0.2s ease-in-out, transform 0.2s ease-in-out;
        }
        .nacional-row { background-color: #f7fafc; }
        .santacruz-row { background-color: #f0fff4; } /* Verde claro */
        .lapaz-row { background-color: #ebf8ff; } /* Azul claro */
        .cochabamba-row { background-color: #fffaf0; } /* Naranja claro */

        .nacional-row:hover { background-color: #e2e8f0; transform: scale(1.01); }
        .santacruz-row:hover { background-color: #c6f6d5; transform: scale(1.01); }
        .lapaz-row:hover { background-color: #bee3f8; transform: scale(1.01); }
        .cochabamba-row:hover { background-color: #feebc8; transform: scale(1.01); }
        
        /* Estilos para la tabla de simulación */
        .sim-header-main { background-color: #1a472a; color: white; }
        .sim-header-scenario { background-color: #3a7d44; color: white; }
        .sim-row:hover { background-color: #f0fdf4; }

        /* Estilos para la navegación lateral */
        .content-panel { display: none; }
        .content-panel.active { display: block; }
        
        .nav-link {
            transition: all 0.2s ease;
            border-left-width: 4px;
            border-color: transparent;
        }
        .nav-link.active {
            border-color: #3b82f6;
            background-color: #eff6ff;
            color: #2563eb;
            font-weight: 600;
        }
        .nav-link:not(.active):hover {
            background-color: #f3f4f6;
            border-color: #d1d5db;
        }
        .details-row {
            transition: all 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="flex h-screen">
        <!-- Panel de Navegación Izquierdo -->
        <aside class="w-64 bg-white shadow-md flex-shrink-0 overflow-y-auto">
            <div class="p-6">
                <h2 class="text-xl font-bold text-gray-800">Dashboard</h2>
                <p class="text-sm text-gray-500">Periodo G-2024-2025</p>
            </div>
            <nav class="mt-6">
                <div>
                    <h3 class="px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider">Nacional</h3>
                    <div class="mt-2 space-y-1">
                        <a href="#" onclick="changeTab('almacenaje')" id="tab-almacenaje" class="nav-link active group flex items-center px-6 py-2 text-sm font-medium text-gray-600">
                            Almacenaje
                        </a>
                        <a href="#" onclick="changeTab('transporte')" id="tab-transporte" class="nav-link group flex items-center px-6 py-2 text-sm font-medium text-gray-600">
                            Transporte Huevo
                        </a>
                    </div>
                </div>
                <div class="mt-8">
                    <h3 class="px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider">Simulación Santa Cruz</h3>
                    <div class="mt-2 space-y-1">
                         <a href="#" onclick="changeTab('simulacion-scz')" id="tab-simulacion-scz" class="nav-link group flex items-center px-6 py-2 text-sm font-medium text-gray-600">
                            Escenarios Santa Cruz
                        </a>
                    </div>
                </div>
                 <div class="mt-8">
                    <h3 class="px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider">Simulación La Paz</h3>
                    <div class="mt-2 space-y-1">
                         <a href="#" onclick="changeTab('simulacion-lpz')" id="tab-simulacion-lpz" class="nav-link group flex items-center px-6 py-2 text-sm font-medium text-gray-600">
                            Escenarios La Paz
                        </a>
                    </div>
                </div>
                <div class="mt-8">
                    <h3 class="px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider">Simulación Cochabamba</h3>
                    <div class="mt-2 space-y-1">
                         <a href="#" onclick="changeTab('simulacion-cbba')" id="tab-simulacion-cbba" class="nav-link group flex items-center px-6 py-2 text-sm font-medium text-gray-600">
                            Escenarios Cochabamba
                        </a>
                    </div>
                </div>
            </nav>
        </aside>

        <!-- Contenido Principal -->
        <main class="flex-1 overflow-y-auto p-4 sm:p-6 md:p-8">
            <!-- Pestaña Almacenaje -->
            <div id="content-almacenaje" class="content-panel active">
                <h1 class="text-2xl font-bold text-gray-800 mb-6">Análisis de Almacenaje</h1>
                <div class="mb-12">
                    <h2 class="text-xl sm:text-2xl font-semibold text-gray-700 mb-4">Costo por Kilogramo (bs/kg)</h2>
                    <div class="shadow-lg rounded-xl overflow-hidden bg-white"><div class="overflow-x-auto"><table class="w-full text-sm text-left text-gray-600"><thead class="text-xs text-gray-700 uppercase bg-gray-200"><tr><th scope="col" class="px-6 py-3 min-w-[150px]">Departamento</th><th scope="col" class="px-6 py-3 text-center">jul-25</th><th scope="col" class="px-6 py-3 text-center">ago-25</th><th scope="col" class="px-6 py-3 text-center">sept-25</th><th scope="col" class="px-6 py-3 text-center">oct-25</th><th scope="col" class="px-6 py-3 text-center">nov-25</th><th scope="col" class="px-6 py-3 text-center">dic-25</th><th scope="col" class="px-6 py-3 text-center">ene-26</th><th scope="col" class="px-6 py-3 text-center">feb-26</th><th scope="col" class="px-6 py-3 text-center">mar-26</th><th scope="col" class="px-6 py-3 text-center">abr-26</th><th scope="col" class="px-6 py-3 text-center">may-26</th><th scope="col" class="px-6 py-3 text-center">jun-26</th><th scope="col" class="px-6 py-3 text-center font-bold bg-gray-300 min-w-[100px]">Promedio</th></tr></thead><tbody><tr class="data-row nacional-row border-b"><td class="px-6 py-4 font-bold text-gray-900 whitespace-nowrap">NACIONAL</td><td class="px-6 py-4 text-center">0.38</td><td class="px-6 py-4 text-center">0.34</td><td class="px-6 py-4 text-center">0.32</td><td class="px-6 py-4 text-center">0.35</td><td class="px-6 py-4 text-center">0.27</td><td class="px-6 py-4 text-center">0.45</td><td class="px-6 py-4 text-center">0.33</td><td class="px-6 py-4 text-center">0.33</td><td class="px-6 py-4 text-center">0.43</td><td class="px-6 py-4 text-center">0.40</td><td class="px-6 py-4 text-center">0.35</td><td class="px-6 py-4 text-center">0.56</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">0.38</td></tr><tr class="data-row santacruz-row border-b"><td class="px-6 py-4 font-medium text-gray-800 whitespace-nowrap">SANTA CRUZ</td><td class="px-6 py-4 text-center">0.46</td><td class="px-6 py-4 text-center">0.48</td><td class="px-6 py-4 text-center">0.44</td><td class="px-6 py-4 text-center">0.40</td><td class="px-6 py-4 text-center">0.26</td><td class="px-6 py-4 text-center">0.45</td><td class="px-6 py-4 text-center">0.42</td><td class="px-6 py-4 text-center">0.36</td><td class="px-6 py-4 text-center">0.37</td><td class="px-6 py-4 text-center">0.38</td><td class="px-6 py-4 text-center">0.39</td><td class="px-6 py-4 text-center">0.43</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">0.40</td></tr><tr class="data-row lapaz-row border-b"><td class="px-6 py-4 font-medium text-gray-800 whitespace-nowrap">LA PAZ</td><td class="px-6 py-4 text-center">0.22</td><td class="px-6 py-4 text-center">0.17</td><td class="px-6 py-4 text-center">0.17</td><td class="px-6 py-4 text-center">0.20</td><td class="px-6 py-4 text-center">0.19</td><td class="px-6 py-4 text-center">0.31</td><td class="px-6 py-4 text-center">0.18</td><td class="px-6 py-4 text-center">0.21</td><td class="px-6 py-4 text-center">0.37</td><td class="px-6 py-4 text-center">0.30</td><td class="px-6 py-4 text-center">0.22</td><td class="px-6 py-4 text-center">0.87</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">0.28</td></tr><tr class="data-row cochabamba-row"><td class="px-6 py-4 font-medium text-gray-800 whitespace-nowrap">COCHABAMBA</td><td class="px-6 py-4 text-center">0.95</td><td class="px-6 py-4 text-center">0.78</td><td class="px-6 py-4 text-center">0.76</td><td class="px-6 py-4 text-center">1.20</td><td class="px-6 py-4 text-center">0.89</td><td class="px-6 py-4 text-center">1.25</td><td class="px-6 py-4 text-center">1.06</td><td class="px-6 py-4 text-center">0.95</td><td class="px-6 py-4 text-center">1.30</td><td class="px-6 py-4 text-center">1.13</td><td class="px-6 py-4 text-center">0.93</td><td class="px-6 py-4 text-center">1.68</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">1.07</td></tr></tbody></table></div></div>
                </div>
                <div class="mb-12">
                    <h2 class="text-xl sm:text-2xl font-semibold text-gray-700 mb-4">Costo por Maple (bsl/maple)</h2>
                    <div class="shadow-lg rounded-xl overflow-hidden bg-white"><div class="overflow-x-auto"><table class="w-full text-sm text-left text-gray-600"><thead class="text-xs text-gray-700 uppercase bg-gray-200"><tr><th scope="col" class="px-6 py-3 min-w-[150px]">Departamento</th><th scope="col" class="px-6 py-3 text-center">jul-25</th><th scope="col" class="px-6 py-3 text-center">ago-25</th><th scope="col" class="px-6 py-3 text-center">sept-25</th><th scope="col" class="px-6 py-3 text-center">oct-25</th><th scope="col" class="px-6 py-3 text-center">nov-25</th><th scope="col" class="px-6 py-3 text-center">dic-25</th><th scope="col" class="px-6 py-3 text-center">ene-26</th><th scope="col" class="px-6 py-3 text-center">feb-26</th><th scope="col" class="px-6 py-3 text-center">mar-26</th><th scope="col" class="px-6 py-3 text-center">abr-26</th><th scope="col" class="px-6 py-3 text-center">may-26</th><th scope="col" class="px-6 py-3 text-center">jun-26</th><th scope="col" class="px-6 py-3 text-center font-bold bg-gray-300 min-w-[100px]">Promedio</th></tr></thead><tbody><tr class="data-row nacional-row border-b"><td class="px-6 py-4 font-bold text-gray-900 whitespace-nowrap">NACIONAL</td><td class="px-6 py-4 text-center">0.67</td><td class="px-6 py-4 text-center">0.61</td><td class="px-6 py-4 text-center">0.59</td><td class="px-6 py-4 text-center">0.63</td><td class="px-6 py-4 text-center">0.49</td><td class="px-6 py-4 text-center">0.82</td><td class="px-6 py-4 text-center">0.61</td><td class="px-6 py-4 text-center">0.61</td><td class="px-6 py-4 text-center">0.78</td><td class="px-6 py-4 text-center">0.74</td><td class="px-6 py-4 text-center">0.63</td><td class="px-6 py-4 text-center">1.02</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">0.68</td></tr><tr class="data-row santacruz-row border-b"><td class="px-6 py-4 font-medium text-gray-800 whitespace-nowrap">SANTA CRUZ</td><td class="px-6 py-4 text-center">0.80</td><td class="px-6 py-4 text-center">0.86</td><td class="px-6 py-4 text-center">0.80</td><td class="px-6 py-4 text-center">0.73</td><td class="px-6 py-4 text-center">0.47</td><td class="px-6 py-4 text-center">0.81</td><td class="px-6 py-4 text-center">0.76</td><td class="px-6 py-4 text-center">0.66</td><td class="px-6 py-4 text-center">0.67</td><td class="px-6 py-4 text-center">0.70</td><td class="px-6 py-4 text-center">0.67</td><td class="px-6 py-4 text-center">0.78</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">0.73</td></tr><tr class="data-row lapaz-row border-b"><td class="px-6 py-4 font-medium text-gray-800 whitespace-nowrap">LA PAZ</td><td class="px-6 py-4 text-center">0.40</td><td class="px-6 py-4 text-center">0.31</td><td class="px-6 py-4 text-center">0.31</td><td class="px-6 py-4 text-center">0.37</td><td class="px-6 py-4 text-center">0.35</td><td class="px-6 py-4 text-center">0.58</td><td class="px-6 py-4 text-center">0.34</td><td class="px-6 py-4 text-center">0.39</td><td class="px-6 py-4 text-center">0.69</td><td class="px-6 py-4 text-center">0.57</td><td class="px-6 py-4 text-center">0.41</td><td class="px-6 py-4 text-center">1.61</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">0.53</td></tr><tr class="data-row cochabamba-row"><td class="px-6 py-4 font-medium text-gray-800 whitespace-nowrap">COCHABAMBA</td><td class="px-6 py-4 text-center">1.72</td><td class="px-6 py-4 text-center">1.44</td><td class="px-6 py-4 text-center">1.40</td><td class="px-6 py-4 text-center">2.23</td><td class="px-6 py-4 text-center">1.59</td><td class="px-6 py-4 text-center">2.34</td><td class="px-6 py-4 text-center">2.02</td><td class="px-6 py-4 text-center">1.78</td><td class="px-6 py-4 text-center">2.49</td><td class="px-6 py-4 text-center">2.16</td><td class="px-6 py-4 text-center">1.76</td><td class="px-6 py-4 text-center">3.03</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">2.00</td></tr></tbody></table></div></div>
                </div>
                <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg"><h2 class="text-xl sm:text-2xl font-semibold text-gray-700 mb-4">Gráfico de Pareto de Gastos de Almacenaje</h2><div class="h-96 w-full"><canvas id="paretoChartAlmacenaje"></canvas></div></div>
                <div class="mt-12 bg-white p-6 sm:p-8 rounded-2xl shadow-lg"><h2 class="text-xl sm:text-2xl font-semibold text-gray-700 mb-4">Distribución de Mano de Obra</h2><div class="text-gray-600 space-y-4 text-sm"><div><h3 class="font-semibold text-gray-800">Almacenaje La Paz:</h3><ul class="list-disc list-inside pl-4"><li>2 personas (1 líder de grupo y 1 ayudante de almacén)</li></ul></div><div><h3 class="font-semibold text-gray-800">Almacenaje CBBA:</h3><ul class="list-disc list-inside pl-4"><li>2 personas (ayudantes de almacén)</li><li>Despachadores (1,32% del total, se realizó por líneas despachadas)</li><li>Supervisores (1,85% del total, se realizó por kg despachados)</li></ul></div><div><h3 class="font-semibold text-gray-800">Almacenaje Santa Cruz:</h3><ul class="list-disc list-inside pl-4"><li>6 personas (ayudantes de almacén)</li><li>2 supervisores (50% del total)</li><li>1 despachador (35% del total)</li></ul></div></div></div>
            </div>

            <!-- Pestaña Transporte -->
            <div id="content-transporte" class="content-panel">
                <h1 class="text-2xl font-bold text-gray-800 mb-6">Análisis de Transporte Nacional Huevo</h1>
                <div class="mb-12">
                    <h2 class="text-xl sm:text-2xl font-semibold text-gray-700 mb-4">Costo por Kilogramo (bs/kg)</h2>
                    <div class="shadow-lg rounded-xl overflow-hidden bg-white"><div class="overflow-x-auto"><table class="w-full text-sm text-left text-gray-600"><thead class="text-xs text-gray-700 uppercase bg-gray-200"><tr><th scope="col" class="px-6 py-3 min-w-[150px]">Departamento</th><th scope="col" class="px-6 py-3 text-center">jul-24</th><th scope="col" class="px-6 py-3 text-center">ago-24</th><th scope="col" class="px-6 py-3 text-center">sept-24</th><th scope="col" class="px-6 py-3 text-center">oct-24</th><th scope="col" class="px-6 py-3 text-center">nov-24</th><th scope="col" class="px-6 py-3 text-center">dic-24</th><th scope="col" class="px-6 py-3 text-center">ene-25</th><th scope="col" class="px-6 py-3 text-center">feb-25</th><th scope="col" class="px-6 py-3 text-center">mar-25</th><th scope="col" class="px-6 py-3 text-center">abr-25</th><th scope="col" class="px-6 py-3 text-center">may-25</th><th scope="col" class="px-6 py-3 text-center">jun-25</th><th scope="col" class="px-6 py-3 text-center font-bold bg-gray-300 min-w-[100px]">Promedio</th></tr></thead><tbody><tr class="data-row nacional-row border-b"><td class="px-6 py-4 font-bold text-gray-900 whitespace-nowrap">NACIONAL</td><td class="px-6 py-4 text-center">0.42</td><td class="px-6 py-4 text-center">0.48</td><td class="px-6 py-4 text-center">0.45</td><td class="px-6 py-4 text-center">0.48</td><td class="px-6 py-4 text-center">0.31</td><td class="px-6 py-4 text-center">0.46</td><td class="px-6 py-4 text-center">0.42</td><td class="px-6 py-4 text-center">0.42</td><td class="px-6 py-4 text-center">0.38</td><td class="px-6 py-4 text-center">0.38</td><td class="px-6 py-4 text-center">0.35</td><td class="px-6 py-4 text-center">0.42</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">0.41</td></tr><tr class="data-row santacruz-row border-b"><td class="px-6 py-4 font-medium text-gray-800 whitespace-nowrap">SANTA CRUZ</td><td class="px-6 py-4 text-center">0.36</td><td class="px-6 py-4 text-center">0.37</td><td class="px-6 py-4 text-center">0.35</td><td class="px-6 py-4 text-center">0.41</td><td class="px-6 py-4 text-center">0.22</td><td class="px-6 py-4 text-center">0.35</td><td class="px-6 py-4 text-center">0.32</td><td class="px-6 py-4 text-center">0.33</td><td class="px-6 py-4 text-center">0.27</td><td class="px-6 py-4 text-center">0.31</td><td class="px-6 py-4 text-center">0.27</td><td class="px-6 py-4 text-center">0.32</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">0.32</td></tr><tr class="data-row lapaz-row border-b"><td class="px-6 py-4 font-medium text-gray-800 whitespace-nowrap">LA PAZ</td><td class="px-6 py-4 text-center">0.43</td><td class="px-6 py-4 text-center">0.53</td><td class="px-6 py-4 text-center">0.51</td><td class="px-6 py-4 text-center">0.51</td><td class="px-6 py-4 text-center">0.44</td><td class="px-6 py-4 text-center">0.55</td><td class="px-6 py-4 text-center">0.47</td><td class="px-6 py-4 text-center">0.48</td><td class="px-6 py-4 text-center">0.55</td><td class="px-6 py-4 text-center">0.49</td><td class="px-6 py-4 text-center">0.46</td><td class="px-6 py-4 text-center">0.82</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">0.52</td></tr><tr class="data-row cochabamba-row"><td class="px-6 py-4 font-medium text-gray-800 whitespace-nowrap">COCHABAMBA</td><td class="px-6 py-4 text-center">0.67</td><td class="px-6 py-4 text-center">0.72</td><td class="px-6 py-4 text-center">0.50</td><td class="px-6 py-4 text-center">0.88</td><td class="px-6 py-4 text-center">0.51</td><td class="px-6 py-4 text-center">0.76</td><td class="px-6 py-4 text-center">0.89</td><td class="px-6 py-4 text-center">0.84</td><td class="px-6 py-4 text-center">0.55</td><td class="px-6 py-4 text-center">0.45</td><td class="px-6 py-4 text-center">0.58</td><td class="px-6 py-4 text-center">0.71</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">0.67</td></tr></tbody></table></div></div>
                </div>
                <div class="mb-12">
                    <h2 class="text-xl sm:text-2xl font-semibold text-gray-700 mb-4">Costo por Maple (bs/maple)</h2>
                    <div class="shadow-lg rounded-xl overflow-hidden bg-white"><div class="overflow-x-auto"><table class="w-full text-sm text-left text-gray-600"><thead class="text-xs text-gray-700 uppercase bg-gray-200"><tr><th scope="col" class="px-6 py-3 min-w-[150px]">Departamento</th><th scope="col" class="px-6 py-3 text-center">jul-24</th><th scope="col" class="px-6 py-3 text-center">ago-24</th><th scope="col" class="px-6 py-3 text-center">sept-24</th><th scope="col" class="px-6 py-3 text-center">oct-24</th><th scope="col" class="px-6 py-3 text-center">nov-24</th><th scope="col" class="px-6 py-3 text-center">dic-24</th><th scope="col" class="px-6 py-3 text-center">ene-25</th><th scope="col" class="px-6 py-3 text-center">feb-25</th><th scope="col" class="px-6 py-3 text-center">mar-25</th><th scope="col" class="px-6 py-3 text-center">abr-25</th><th scope="col" class="px-6 py-3 text-center">may-25</th><th scope="col" class="px-6 py-3 text-center">jun-25</th><th scope="col" class="px-6 py-3 text-center font-bold bg-gray-300 min-w-[100px]">Promedio</th></tr></thead><tbody><tr class="data-row nacional-row border-b"><td class="px-6 py-4 font-bold text-gray-900 whitespace-nowrap">NACIONAL</td><td class="px-6 py-4 text-center">0.74</td><td class="px-6 py-4 text-center">0.86</td><td class="px-6 py-4 text-center">0.81</td><td class="px-6 py-4 text-center">0.88</td><td class="px-6 py-4 text-center">0.57</td><td class="px-6 py-4 text-center">0.84</td><td class="px-6 py-4 text-center">0.77</td><td class="px-6 py-4 text-center">0.79</td><td class="px-6 py-4 text-center">0.70</td><td class="px-6 py-4 text-center">0.70</td><td class="px-6 py-4 text-center">0.64</td><td class="px-6 py-4 text-center">0.76</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">0.74</td></tr><tr class="data-row santacruz-row border-b"><td class="px-6 py-4 font-medium text-gray-800 whitespace-nowrap">SANTA CRUZ</td><td class="px-6 py-4 text-center">0.64</td><td class="px-6 py-4 text-center">0.66</td><td class="px-6 py-4 text-center">0.64</td><td class="px-6 py-4 text-center">0.74</td><td class="px-6 py-4 text-center">0.40</td><td class="px-6 py-4 text-center">0.64</td><td class="px-6 py-4 text-center">0.59</td><td class="px-6 py-4 text-center">0.61</td><td class="px-6 py-4 text-center">0.49</td><td class="px-6 py-4 text-center">0.56</td><td class="px-6 py-4 text-center">0.47</td><td class="px-6 py-4 text-center">0.57</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">0.57</td></tr><tr class="data-row lapaz-row border-b"><td class="px-6 py-4 font-medium text-gray-800 whitespace-nowrap">LA PAZ</td><td class="px-6 py-4 text-center">0.77</td><td class="px-6 py-4 text-center">0.95</td><td class="px-6 py-4 text-center">0.93</td><td class="px-6 py-4 text-center">0.93</td><td class="px-6 py-4 text-center">0.80</td><td class="px-6 py-4 text-center">1.03</td><td class="px-6 py-4 text-center">0.86</td><td class="px-6 py-4 text-center">0.93</td><td class="px-6 py-4 text-center">1.04</td><td class="px-6 py-4 text-center">0.92</td><td class="px-6 py-4 text-center">0.85</td><td class="px-6 py-4 text-center">1.52</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">0.96</td></tr><tr class="data-row cochabamba-row"><td class="px-6 py-4 font-medium text-gray-800 whitespace-nowrap">COCHABAMBA</td><td class="px-6 py-4 text-center">1.21</td><td class="px-6 py-4 text-center">1.31</td><td class="px-6 py-4 text-center">0.92</td><td class="px-6 py-4 text-center">1.63</td><td class="px-6 py-4 text-center">0.91</td><td class="px-6 py-4 text-center">1.41</td><td class="px-6 py-4 text-center">1.70</td><td class="px-6 py-4 text-center">1.59</td><td class="px-6 py-4 text-center">1.06</td><td class="px-6 py-4 text-center">0.87</td><td class="px-6 py-4 text-center">1.10</td><td class="px-6 py-4 text-center">1.27</td><td class="px-6 py-4 text-center font-bold text-gray-900 bg-gray-200">1.25</td></tr></tbody></table></div></div>
                </div>
                <div class="mt-12 bg-white p-6 sm:p-8 rounded-2xl shadow-lg"><h2 class="text-xl sm:text-2xl font-semibold text-gray-700 mb-4">Gráfico de Pareto de Gastos de Transporte</h2><div class="h-96 w-full"><canvas id="paretoChartTransporte"></canvas></div></div>
            </div>
            
            <!-- Pestaña Simulación SCZ -->
            <div id="content-simulacion-scz" class="content-panel">
                <h1 class="text-2xl font-bold text-gray-800 mb-6">Simulación de Escenarios - Santa Cruz</h1>
                 <div class="mb-12">
                    <div class="shadow-lg rounded-xl overflow-hidden bg-white"><div class="overflow-x-auto"><table class="w-full text-sm text-left text-gray-600"><thead class="text-xs uppercase"><tr><th scope="col" class="px-6 py-3 sim-header-main align-middle text-center w-1/6"></th><th scope="col" class="px-6 py-3 sim-header-main align-middle text-center">Escenario Actual</th><th scope="col" colspan="5" class="px-6 py-3 sim-header-main text-center">Simulaciones</th></tr><tr><th class="px-6 py-3 bg-gray-100"></th><th class="px-6 py-3 bg-gray-100"></th><th scope="col" class="px-4 py-3 bg-green-100 text-green-900 text-center font-medium">1200 MAPLES</th><th scope="col" class="px-4 py-3 bg-green-100 text-green-900 text-center font-medium">1000 MAPLES</th><th scope="col" class="px-4 py-3 bg-green-100 text-green-900 text-center font-medium">INCREMENTO CLIENTES</th><th scope="col" class="px-4 py-3 bg-green-100 text-green-900 text-center font-medium">DROPSIZE 20 MAPLES</th><th scope="col" class="px-4 py-3 bg-green-100 text-green-900 text-center font-medium">DROPSIZE 15 CLIENTES</th></tr></thead><tbody class="text-center"><tr class="border-b sim-row"><td class="px-6 py-4 font-semibold text-gray-800 text-left">MAPLES/CAMIÓN</td><td class="px-6 py-4 font-bold text-blue-600">682</td><td class="px-6 py-4">1200</td><td class="px-6 py-4">1000</td><td class="px-6 py-4">938</td><td class="px-6 py-4">1000</td><td class="px-6 py-4">1000</td></tr><tr class="border-b sim-row"><td class="px-6 py-4 font-semibold text-gray-800 text-left">BS/KG</td><td class="px-6 py-4 font-bold text-blue-600">0.32</td><td class="px-6 py-4">0.25</td><td class="px-6 py-4">0.28</td><td class="px-6 py-4">0.30</td><td class="px-6 py-4">0.30</td><td class="px-6 py-4">0.30</td></tr><tr class="border-b sim-row"><td class="px-6 py-4 font-semibold text-gray-800 text-left">BS/MAPLE</td><td class="px-6 py-4 font-bold text-blue-600">0.57</td><td class="px-6 py-4">0.44</td><td class="px-6 py-4">0.52</td><td class="px-6 py-4">0.55</td><td class="px-6 py-4">0.51</td><td class="px-6 py-4">0.52</td></tr><tr class="border-b sim-row"><td class="px-6 py-4 font-semibold text-gray-800 text-left">% CAP KG</td><td class="px-6 py-4 font-bold text-blue-600">40%</td><td class="px-6 py-4">71%</td><td class="px-6 py-4">59%</td><td class="px-6 py-4">52%</td><td class="px-6 py-4">43%</td><td class="px-6 py-4">40%</td></tr><tr class="border-b sim-row"><td class="px-6 py-4 font-semibold text-gray-800 text-left">% CAP MAPLES</td><td class="px-6 py-4 font-bold text-blue-600">58%</td><td class="px-6 py-4">100%</td><td class="px-6 py-4">83%</td><td class="px-6 py-4">75%</td><td class="px-6 py-4">83%</td><td class="px-6 py-4">83%</td></tr><tr class="bg-green-50 sim-row"><td class="px-6 py-4 font-semibold text-green-800 text-left">AHORRO EN FLETE (BS)</td><td class="px-6 py-4 font-bold text-blue-600">-</td><td class="px-6 py-4 font-bold text-green-600">16,750</td><td class="px-6 py-4 font-bold text-green-600">8,016</td><td class="px-6 py-4 font-bold text-green-600">3,235</td><td class="px-6 py-4 font-bold text-gray-400">-</td><td class="px-6 py-4 font-bold text-gray-400">-</td></tr></tbody></table></div></div>
                </div>
            </div>

            <!-- Pestaña Simulación LPZ -->
            <div id="content-simulacion-lpz" class="content-panel">
                <h1 class="text-2xl font-bold text-gray-800 mb-6">Simulación de Escenarios - La Paz</h1>
                 <div class="mb-12">
                    <div class="shadow-lg rounded-xl overflow-hidden bg-white"><div class="overflow-x-auto"><table class="w-full text-sm text-left text-gray-600"><thead class="text-xs uppercase"><tr><th scope="col" rowspan="2" class="px-6 py-3 sim-header-main align-middle text-center">Consideraciones</th><th scope="col" rowspan="2" class="px-6 py-3 sim-header-main align-middle text-center">Escenario Actual</th><th scope="col" colspan="6" class="px-6 py-3 sim-header-main text-center">Simulaciones</th></tr><tr><th scope="col" class="px-4 py-3 sim-header-scenario text-center font-medium"><span>615 MAPLES</span><br><span class="text-xs font-normal normal-case">615 maples por camión</span></th><th scope="col" class="px-4 py-3 sim-header-scenario text-center font-medium"><span>490 MAPLES</span><br><span class="text-xs font-normal normal-case">490 maples por camión</span></th><th scope="col" class="px-4 py-3 sim-header-scenario text-center font-medium"><span>DROPSIZE 25</span><br><span class="text-xs font-normal normal-case">Capacidad: 490 maples</span></th><th scope="col" class="px-4 py-3 sim-header-scenario text-center font-medium"><span>DROPSIZE 30</span><br><span class="text-xs font-normal normal-case">Capacidad: 490 maples</span></th><th scope="col" class="px-4 py-3 sim-header-scenario text-center font-medium"><span>DROPSIZE 25</span><br><span class="text-xs font-normal normal-case">Capacidad: 615 maples</span></th><th scope="col" class="px-4 py-3 sim-header-scenario text-center font-medium"><span>DROPSIZE 30</span><br><span class="text-xs font-normal normal-case">Capacidad: 615 maples</span></th></tr></thead><tbody class="text-center"><tr class="border-b sim-row"><td class="px-6 py-4 font-semibold text-gray-800 text-left">MAPLES/CAMIÓN</td><td class="px-6 py-4 font-bold text-blue-600">396</td><td class="px-6 py-4">615</td><td class="px-6 py-4">490</td><td class="px-6 py-4">463</td><td class="px-6 py-4">468</td><td class="px-6 py-4">570</td><td class="px-6 py-4">578</td></tr><tr class="border-b sim-row"><td class="px-6 py-4 font-semibold text-gray-800 text-left">BS/KG</td><td class="px-6 py-4 font-bold text-blue-600">0.52</td><td class="px-6 py-4">0.36</td><td class="px-6 py-4">0.43</td><td class="px-6 py-4">0.46</td><td class="px-6 py-4">0.45</td><td class="px-6 py-4">0.39</td><td class="px-6 py-4">0.38</td></tr><tr class="border-b sim-row"><td class="px-6 py-4 font-semibold text-gray-800 text-left">BS/MAPLE</td><td class="px-6 py-4 font-bold text-blue-600">0.96</td><td class="px-6 py-4">0.66</td><td class="px-6 py-4">0.79</td><td class="px-6 py-4">0.86</td><td class="px-6 py-4">0.84</td><td class="px-6 py-4">0.71</td><td class="px-6 py-4">0.70</td></tr><tr class="border-b sim-row"><td class="px-6 py-4 font-semibold text-gray-800 text-left">% CAP MAPLES</td><td class="px-6 py-4 font-bold text-blue-600">66%</td><td class="px-6 py-4">100%</td><td class="px-6 py-4">80%</td><td class="px-6 py-4">75%</td><td class="px-6 py-4">76%</td><td class="px-6 py-4">93%</td><td class="px-6 py-4">94%</td></tr><tr class="bg-green-50 sim-row"><td class="px-6 py-4 font-semibold text-green-800 text-left">AHORRO EN FLETE (BS)</td><td class="px-6 py-4 font-bold text-blue-600">-</td><td class="px-6 py-4 font-bold text-green-600">27,141</td><td class="px-6 py-4 font-bold text-green-600">12,357</td><td class="px-6 py-4 font-bold text-green-600">-</td><td class="px-6 py-4 font-bold text-green-600">-</td><td class="px-6 py-4 font-bold text-green-600">-</td><td class="px-6 py-4 font-bold text-green-600">-</td></tr></tbody></table></div></div>
                </div>
            </div>

            <!-- Pestaña Simulación CBBA -->
            <div id="content-simulacion-cbba" class="content-panel">
                <h1 class="text-2xl font-bold text-gray-800 mb-6">Simulación de Escenarios - Cochabamba</h1>
                 <div class="mb-12">
                    <div class="shadow-lg rounded-xl overflow-hidden bg-white"><div class="overflow-x-auto"><table class="w-full text-sm text-left text-gray-600"><thead class="text-xs uppercase"><tr><th scope="col" class="px-6 py-3 sim-header-main align-middle text-center">Consideraciones</th><th scope="col" class="px-6 py-3 sim-header-main align-middle text-center">Escenario Actual</th><th scope="col" colspan="2" class="px-6 py-3 sim-header-main text-center">Simulaciones</th></tr><tr><th scope="col" class="px-4 py-3 sim-header-scenario text-center font-medium">1050 MAPLES</th><th scope="col" class="px-4 py-3 sim-header-scenario text-center font-medium">700 MAPLES</th></tr></thead><tbody class="text-center"><tr class="border-b sim-row"><td class="px-6 py-4 font-semibold text-gray-800 text-left">MAPLES/CAMIÓN</td><td class="px-6 py-4 font-bold text-blue-600">300</td><td class="px-6 py-4">1050</td><td class="px-6 py-4">700</td></tr><tr class="border-b sim-row"><td class="px-6 py-4 font-semibold text-gray-800 text-left">BS/KG</td><td class="px-6 py-4 font-bold text-blue-600">0.67</td><td class="px-6 py-4">0.47</td><td class="px-6 py-4">0.57</td></tr><tr class="border-b sim-row"><td class="px-6 py-4 font-semibold text-gray-800 text-left">BS/MAPLE</td><td class="px-6 py-4 font-bold text-blue-600">1.25</td><td class="px-6 py-4">0.87</td><td class="px-6 py-4">1.00</td></tr><tr class="border-b sim-row"><td class="px-6 py-4 font-semibold text-gray-800 text-left">% CAP MAPLES</td><td class="px-6 py-4 font-bold text-blue-600">20%</td><td class="px-6 py-4">100%</td><td class="px-6 py-4">75%</td></tr><tr class="bg-green-50 sim-row"><td class="px-6 py-4 font-semibold text-green-800 text-left">AHORRO EN FLETE (BS)</td><td class="px-6 py-4 font-bold text-blue-600">-</td><td class="px-6 py-4 font-bold text-green-600">6,525</td><td class="px-6 py-4 font-bold text-green-600">4,079</td></tr></tbody></table></div></div>
                </div>
            </div>

        </main>
    </div>

    <script>
        function changeTab(tabName) {
            // Ocultar todos los paneles de contenido
            document.querySelectorAll('.content-panel').forEach(panel => panel.classList.remove('active'));
            // Quitar clase activa de todos los enlaces de navegación
            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));

            // Construir el ID del panel y de la pestaña
            const contentId = `content-${tabName}`;
            const tabId = `tab-${tabName}`;

            // Mostrar el panel de contenido y activar el enlace de navegación seleccionado
            document.getElementById(contentId).classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }

        // --- GRÁFICO PARETO PARA ALMACENAJE ---
        (function() {
            const costData = [
                { item: "Sueldos y Jornales", cost: 51886 }, { item: "Beneficios Sociales", cost: 40555 }, { item: "Servicios Externos", cost: 31814 }, { item: "Mantenimiento Y Repuestos", cost: 14105 }, { item: "Depreciacion", cost: 10618 }, { item: "Horas Extras", cost: 8739 }, { item: "Baja De Productos", cost: 4294 }, { item: "Energia Electrica Y Agua", cost: 3577 }, { item: "Gastos De Alimentacion", cost: 3114 }, { item: "Costo de Servicios Internos", cost: 2898 }, { item: "Ropa De Trabajo", cost: 2803 }, { item: "Gastos Generales", cost: 2083 }, { item: "Sistemas tecnologicos", cost: 1057 }, { item: "Gastos Medicos Y Capacitacion", cost: 740 }, { item: "Materiales Escritorio Y Suministros", cost: 595 }, { item: "Material Y Prod.Limpieza", cost: 555 }, { item: "Cconectividad y comunicaciones", cost: 483 }, { item: "Costo Almacenaje Mat. Y Sum.", cost: 421 }, { item: "Gastos legales y tributarios", cost: 351 }, { item: "Pasajes Y Viaticos", cost: 113 },
            ];

            costData.sort((a, b) => b.cost - a.cost);
            const totalCost = costData.reduce((sum, item) => sum + item.cost, 0);
            let cumulativePercentage = 0;
            const processedData = costData.map(item => {
                cumulativePercentage += (item.cost / totalCost) * 100;
                return { ...item, cumulativePercentage };
            });

            const ctx = document.getElementById('paretoChartAlmacenaje').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: processedData.map(d => d.item),
                    datasets: [{
                        label: 'Costo Promedio',
                        data: processedData.map(d => d.cost),
                        backgroundColor: 'rgba(59, 130, 246, 0.7)',
                        yAxisID: 'y',
                    }, {
                        label: '% Acumulado',
                        data: processedData.map(d => d.cumulativePercentage),
                        type: 'line',
                        borderColor: 'rgba(239, 68, 68, 1)',
                        yAxisID: 'y1',
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    scales: {
                        x: { ticks: { autoSkip: false, maxRotation: 90, minRotation: 45 } },
                        y: { type: 'linear', position: 'left', title: { display: true, text: 'Costo Promedio (bs)' } },
                        y1: { type: 'linear', position: 'right', min: 0, max: 100, title: { display: true, text: 'Porcentaje Acumulado (%)' }, grid: { drawOnChartArea: false } }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) { label += ': '; }
                                    if (context.dataset.yAxisID === 'y1') {
                                        label += parseFloat(context.raw).toFixed(2) + '%';
                                        return label;
                                    } else {
                                        label += new Intl.NumberFormat('es-BO').format(context.raw);
                                    }
                                    if (context.label === 'Sueldos y Jornales') return [label, '', 'Desglose por Departamento:', `  SCZ:   ${(36112).toLocaleString('es-BO')}`, `  LPZ:    ${(9326).toLocaleString('es-BO')}`, `  CBBA:  ${(6448).toLocaleString('es-BO')}`];
                                    if (context.label === 'Depreciacion') return [label, '', 'Desglose por Departamento:', `  SCZ:   ${(7174).toLocaleString('es-BO')}`, `  LPZ:    ${(111).toLocaleString('es-BO')}`, `  CBBA:  ${(3713).toLocaleString('es-BO')}`];
                                    if (context.label === 'Servicios Externos') return [label, '', 'Detalle:', `  LPZ: 90% jornaleros`];
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        })();

        // --- GRÁFICO PARETO PARA TRANSPORTE ---
        (function() {
            const costData = [
                { item: "Seguros Gral, Fletes De Producto", cost: 163296 }, { item: "Sueldos y Jornales", cost: 10832 }, { item: "Beneficios Sociales", cost: 9067 }, { item: "Costo de Servicios Internos", cost: 4365 }, { item: "Horas Extras", cost: 2867 }, { item: "Sistemas tecnologicos", cost: 1993 }, { item: "Gastos De Alimentacion", cost: 1189 }, { item: "Servicios Externos", cost: 885 }, { item: "Gastos Generales", cost: 413 }, { item: "Gastos legales y tributarios", cost: 351 }, { item: "Gastos Medicos Y Capacitacion", cost: 277 }, { item: "Pasajes Y Viaticos", cost: 245 }, { item: "Cconectividad y comunicaciones", cost: 152 }, { item: "Baja De Productos", cost: 87 }, { item: "Costo Almacenaje Mat. Y Sum.", cost: 52 }, { item: "Depreciacion", cost: 33 }, { item: "Ropa De Trabajo", cost: 24 }, { item: "Materiales Escritorio Y Suministros", cost: 23 }, { item: "Material Y Prod.Limpieza", cost: 20 }, { item: "Mantenimiento Y Repuestos", cost: 9 },
            ];

            costData.sort((a, b) => b.cost - a.cost);
            const totalCost = costData.reduce((sum, item) => sum + item.cost, 0);
            let cumulativePercentage = 0;
            const processedData = costData.map(item => {
                cumulativePercentage += (item.cost / totalCost) * 100;
                return { ...item, cumulativePercentage };
            });

            const ctx = document.getElementById('paretoChartTransporte').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: processedData.map(d => d.item),
                    datasets: [{
                        label: 'Costo Promedio',
                        data: processedData.map(d => d.cost),
                        backgroundColor: 'rgba(16, 185, 129, 0.7)',
                        yAxisID: 'y',
                    }, {
                        label: '% Acumulado',
                        data: processedData.map(d => d.cumulativePercentage),
                        type: 'line',
                        borderColor: 'rgba(239, 68, 68, 1)',
                        yAxisID: 'y1',
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    scales: {
                        x: { ticks: { autoSkip: false, maxRotation: 90, minRotation: 45 } },
                        y: { 
                            type: 'logarithmic', // Eje Y cambiado a logarítmico
                            position: 'left', 
                            title: { display: true, text: 'Costo Promedio (bs) - Escala Logarítmica' } 
                        },
                        y1: { type: 'linear', position: 'right', min: 0, max: 100, title: { display: true, text: 'Porcentaje Acumulado (%)' }, grid: { drawOnChartArea: false } }
                    },
                     plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) { label += ': '; }
                                    if (context.dataset.yAxisID === 'y1') {
                                        label += parseFloat(context.raw).toFixed(2) + '%';
                                    } else {
                                        label += new Intl.NumberFormat('es-BO').format(context.raw);
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        })();
    </script>
</body>
</html>
